<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.4.xsd">

	<grid name="password-change-batch-grid" model="com.axelor.apps.base.db.PasswordChangeBatch" title="Password change batch">
		<field name="generateNewRandomPasswords"/>
		<field name="updatePasswordNextLogin"/>
		<field name="allUsers"/>
		<field name="nbOfDaySinceLastUpdate"/>
	</grid>
	
	<form name="password-change-batch-form" model="com.axelor.apps.base.db.PasswordChangeBatch" title="Password change batch">
		<panel name="mainPanel">
		 	<field name="generateNewRandomPasswords"/>
			<field name="updatePasswordNextLogin"/>
			<field name="allUsers" readonlyIf="(users != null &amp;&amp; users.length != 0) || (groups != null &amp;&amp; groups.length != 0)"/>
			<field name="nbOfDaySinceLastUpdate"/>
			<field name="users" widget="TagSelect" form-view="user-form" grid-view="user-grid" hideIf="allUsers"/>
			<field name="groups" widget="TagSelect" form-view="group-form" grid-view="group-grid" hideIf="allUsers"/>
		 </panel>
		 
		 <panel name="informationPanel" title="Information">
      	 	<field name="createdOn" title="Created on"/>
      	 	<field name="createdBy" title="Created by" form-view="user-form" grid-view="user-grid"/>
      	 	<field name="description" showTitle="false" colSpan="12"/>
      	 	<panel-related name="batchListPanel" readonly="true" colSpan="12" field="batchList" form-view="batch-form" grid-view="batch-grid"/>
    	 </panel>
		 
		 <panel name="actionsPanel" title="Actions" sidebar="true">
    		<button name="runBatch" onClick="save,action-password-change-method-run-batch" title="Run batch"/>
  		 </panel>
		 
	</form>
	
	<action-method name="action-password-change-method-run-batch">
        <call class="com.axelor.apps.base.web.PasswordChangeBatchController" method="runBatch"/>
    </action-method>

</object-views>
