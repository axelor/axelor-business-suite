<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">

	<menuitem name="crm-root" title="CRM" order="-108" if="__config__.app.isApp('crm')"
		icon="fa-user" icon-background="#2fa042"/>
	
	<menuitem name="crm-root-customers" parent="crm-root" 
		title="Customers" action="crm.root.customers" />

	<action-view name="crm.root.customers" title="Customers"
		model="com.axelor.apps.base.db.Partner" >
		<view type="cards" name="partner-cards" />
		<view type="grid" name="partner-customer-grid" />
		<view type="form" name="partner-customer-form" />
	  	<view-param name="limit" value="39"/>
		<view-param name="search-filters" value="partner-filters"/>
		<domain>self.isContact = false AND self.isCustomer = true</domain>
		<context name="user_id" expr="eval:__user__" />
		<context name="searchFields" expr="name;firstName"/>
		<context name="_isCustomer" expr="true"/>
	</action-view>
	
	<menuitem name="crm-root-contacts" parent="crm-root"
		title="Contacts" action="crm.root.contacts" />

	<action-view name="crm.root.contacts" title="Contacts"
		model="com.axelor.apps.base.db.Partner" >
		<view type="cards" name="partner-contact-cards" />
		<view type="grid" name="partner-contact-grid" />
		<view type="form" name="partner-contact-form" />
	  	<view-param name="limit" value="39"/>
		<domain>self.isContact = true AND self.mainPartner.isCustomer = true</domain>
	</action-view>
	
	<menuitem name="crm-root-event" parent="crm-root"
		title="Events" action="crm.root.event" />

	<action-view name="crm.root.event" title="Events"
		model="com.axelor.apps.crm.db.Event" >
		<view type="grid" name="event-grid"/>
		<view type="form" name="event-form"/>
		<view type="calendar" name="event-calendar"/>
		<context name="_internalUserId" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_todayDateTime" expr="eval:__config__.app.getTodayDateTime()"/>
		<context name="_newDate" expr="eval: __datetime__.plusDays(5)"/>
	</action-view>
	
	<menuitem name="crm-root-lead" parent="crm-root"
		title="Leads" action="crm.root.lead" />

	<action-view name="crm.root.lead" title="Leads"
		model="com.axelor.apps.crm.db.Lead" >
		<view type="grid" name="lead-grid"/>
		<view type="form" name="lead-form"/>
		<view-param name="search-filters" value="lead-filters"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="todayDate" expr="eval:__config__.app.getTodayDate()" />
		<context name="_internalUserId" expr="eval:__user__.id"/>
	</action-view>
	
	<menuitem name="crm-root-opportunity" parent="crm-root"
		title="Opportunities" action="crm.root.opportunity" />

	<action-view name="crm.root.opportunity" title="Opportunities"
		model="com.axelor.apps.crm.db.Opportunity" >
		<view type="kanban" name="opportunity-kanban"/>
		<view type="grid" name="opportunity-grid"/>
		<view type="form" name="opportunity-form"/>
		<view-param name="search-filters" value="opportunity-filters"/>
		<context name="_internalUserId" expr="eval:__user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="todayDate" expr="eval:__config__.app.getTodayDate()" />
	</action-view>
	
	<menuitem name="crm-root-ticket" parent="crm-root"
		title="Tickets" action="crm.root.ticket" if="__config__.app.isApp('crm') &amp;&amp; __config__.app.getApp('crm').getTicketMgt()"/>

	<action-view name="crm.root.ticket" title="Tickets"
		model="com.axelor.apps.crm.db.Ticket" >
		<view type="grid" name="ticket-grid"/>
		<view type="form" name="ticket-form"/>
		<view-param name="search-filters" value="ticket-filters"/>
		<context name="_prioritySelect" expr="2"/>
		<context name="_internalUserId" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
	</action-view>
	
		
	<menuitem name="crm-root-meeting-my-calendar" parent="crm-root"
		title="My Calendar" action="crm.root.meeting.my.calendar" />
	
	
	<action-method name="crm.root.meeting.my.calendar">
		<call class="com.axelor.apps.crm.web.CalendarController" method="showMyEvents"/>
	</action-method>
	
	<menuitem name="crm-root-meeting-team-calendar" parent="crm-root"
		title="Team Calendar" action="crm.root.meeting.team.calendar"/>
		
	<action-method name="crm.root.meeting.team.calendar">
		<call class="com.axelor.apps.crm.web.CalendarController" method="showTeamEvents"/>
	</action-method>
	
	<menuitem name="crm-root-meeting-sharedm-calendar" parent="crm-root"
		title="Shared Calendar" action="crm.root.meeting.shared.calendar"/>
		
	<action-method name="crm.root.meeting.shared.calendar">
		<call class="com.axelor.apps.crm.web.CalendarController" method="showSharedEvents"/>
	</action-method>
	
	
	<menuitem name="crm-root-report" parent="crm-root" title="Reportings"/>
				
	<menuitem name="crm-conf" parent="crm-root" title="Configuration"/>
	
	<menuitem name="crm-conf-lead-source" parent="crm-conf"
		title="Leads Source" action="crm.conf.lead.source" />
		
	<action-view name="crm.conf.lead.source" title="Leads Source"
		model="com.axelor.apps.base.db.Source" >
		<view type="grid" name="source-grid"/>
		<view type="form" name="source-form"/>
	</action-view>

	<menuitem name="crm-conf-meeting-type" parent="crm-conf"
		title="Meeting Types" action="crm.conf.meeting.type" />

	<action-view name="crm.conf.meeting.type" title="Meeting Types"
		model="com.axelor.apps.crm.db.MeetingType" >
		<view type="grid" name="meeting-type-grid"/>
		<view type="form" name="meeting-type-form"/>
	</action-view>
	
	<menuitem name="crm-conf-participant" parent="crm-conf"
		title="Meeting Participants" action="crm.conf.participant" />

	<action-view name="crm.conf.participant" title="Meeting Participants"
		model="com.axelor.apps.crm.db.Participant" >
		<view type="grid" name="participant-grid"/>
		<view type="form" name="participant-form"/>
	</action-view>
	
	<menuitem name="crm-conf-category" parent="crm-conf"
		title="Event Categories" action="crm.conf.event.category" />

	<action-view name="crm.conf.event.category" title="Event Categories"
		model="com.axelor.apps.crm.db.EventCategory" >
		<view type="grid" name="event-category-conf-grid"/>
		<view type="form" name="event-category-form"/>
	</action-view>
	
	<menuitem name="crm-conf-calendar" parent="crm-conf"
		title="Calendars" action="crm.conf.calendar" />

	<action-view name="crm.conf.calendar" title="Calendars"
		model="com.axelor.apps.crm.db.Calendar" >
		<view type="grid" name="crm-calendar-grid"/>
		<view type="form" name="crm-calendar-form"/>
	</action-view>
	
	<menuitem name="crm-conf-calendar-configuration" parent="crm-conf"
		title="Calendar Configurations" action="crm.conf.calendar.configuration" />

	<action-view name="crm.conf.calendar.configuration" title="Calendar Configurations"
		model="com.axelor.apps.crm.db.CalendarConfiguration" >
		<view type="grid" name="calendar-configuration-grid"/>
		<view type="form" name="calendar-configuration-form"/>
	</action-view>
	
	<menuitem name="crm-conf-target-configuration" parent="crm-conf"
		title="Objectives configurations" action="crm.conf.target.configuration" />

	<action-view name="crm.conf.target.configuration" title="Objectives Configurations"
		model="com.axelor.apps.crm.db.TargetConfiguration" >
		<view type="grid" name="target-configuration-grid"/>
		<view type="form" name="target-configuration-form"/>
	</action-view>
	
	<menuitem name="crm-conf-target" parent="crm-conf"
		title="Objectives" action="crm.conf.target" />

	<action-view name="crm.conf.target" title="Objectives"
		model="com.axelor.apps.crm.db.Target" >
		<view type="grid" name="target-grid"/>
		<view type="form" name="target-form"/>
	</action-view>
	
	<menuitem name="crm-conf-lost-reason" parent="crm-conf"
		title="Lost reasons" action="crm.conf.lost.reason" />

	<action-view name="crm.conf.lost.reason" title="Lost reasons"
		model="com.axelor.apps.crm.db.LostReason" >
		<view type="grid" name="lost-reason-grid"/>
		<view type="form" name="lost-reason-form"/>
	</action-view>
	
	<menuitem name="crm-conf-ticket-category" parent="crm-conf" if="__config__.app.isApp('crm') &amp;&amp; __config__.app.getApp('crm').getTicketMgt()"
		title="Ticket category" action="crm.conf.ticket.category" />

	<action-view name="crm.conf.ticket.category" title="Ticket category"
		model="com.axelor.apps.crm.db.TicketCategory" >
		<view type="grid" name="ticket-category-grid"/>
		<view type="form" name="ticket-category-form"/>
	</action-view>
	
	<menuitem name="admin-root-batch-crm" parent="admin-root-batch"
		title="CRM batches" action="admin.root.batch.crm" />

	<action-view name="admin.root.batch.crm" title="CRM batches"
		model="com.axelor.apps.crm.db.CrmBatch" >
		<view type="grid" name="crm-batch-grid"/>
		<view type="form" name="crm-batch-form"/>
	</action-view>

	<!-- Top Menu for Activity and Create Entry for opportunity.... -->
	
	<menuitem name="top-menu-crm-activities" order="-180" title="Activity" top="true" left="false" if="__config__.app.isApp('crm')"/> 	

	<menuitem name="top-menu-activity-my-calendar" order="-90"  parent="top-menu-crm-activities" title="My Calendar" action="crm.root.meeting.my.calendar" top="true" />
	
	<menuitem name="top-menu-activity-team-calendar" order="-80"  parent="top-menu-crm-activities" 	title="My Team Calendar" top="true" action="crm.root.meeting.team.calendar" />
	
	<menuitem name="top-menu-activity-view-events" order="-60" title="View Events" action="crm.root.event" parent="top-menu-crm-activities" top="true"/>
	
	<menuitem name="top-menu-create-opportunity" order="-80" parent="top-menu-utility" top="true" title="Create Opportunity" action="top.new.opportunity.view" if="__config__.app.isApp('crm')"  />
	
	<action-view name="top.new.opportunity.view" title="Create Opportunity" model="com.axelor.apps.crm.db.Opportunity" >
		<view type="form" name="opportunity-form"/>
		<view type="grid" name="opportunity-grid"/>
		<context name="_internalUserId" expr="eval:__user__.id"/>
	</action-view>
	
	<menuitem name="top-menu-create-lead" order="-70" parent="top-menu-utility"	top="true" title="Create Lead" action="top.new.lead.view" if="__config__.app.isApp('crm')"/>
	
	<action-view name="top.new.lead.view" title="Create Lead"  model="com.axelor.apps.crm.db.Lead" >
		<view type="form" name="lead-form" />
		<view type="grid" name="lead-grid" />
		<context name="todayDate" expr="eval:__config__.app.getTodayDate()" />
		<context name="_internalUserId" expr="eval:__user__.id"/>
	</action-view>
	
	<menuitem name="top-prospection" title="Prospection"  top="true" left="false" order="-170" if="__config__.app.isApp('crm')"/>
	<menuitem name="top-prospection-create-lead" order="-100" parent="top-prospection" top="true"	title="Create Lead" action="top.new.lead.view"  />
	<menuitem name="top-prospection-leads" title="View Leads" order="-90" action="top.propsection.leads" parent="top-prospection" top="true" left="false"/> 	
	<action-view name="top.propsection.leads" title="Leads" model="com.axelor.apps.crm.db.Lead" >
		<view type="grid" name="lead-grid" />
		<view type="form" name="lead-form" />
		<context name="todayDate" expr="eval:__config__.app.getTodayDate()" />
		<context name="_internalUserId" expr="eval:__user__.id"/>
	</action-view>
	<menuitem name="top-prospection-create-opportunity" order="-80" parent="top-prospection" top="true" title="Create Opportunity"  action="top.new.opportunity.view"  />
	<menuitem name="top-prospection-opportunity" order="-70" title="View Opportunities" action="top.prospection.opportunity" parent="top-prospection"  top="true" left="false"/> 	
	<action-view name="top.prospection.opportunity" title="Opportunities" model="com.axelor.apps.crm.db.Opportunity" >
		<view type="grid" name="opportunity-grid" />
		<view type="form" name="opportunity-form" />
		<context name="todayDate" expr="eval:__config__.app.getTodayDate()" />
		<context name="_internalUserId" expr="eval:__user__.id"/>
	</action-view>
	
	
	  
	<!-- CRM Dashboard Entry for CRM.... -->

	
 	<menuitem name="menu-event-dashboard" parent="crm-root-report" title="Event" order="-5"/> 
		
 	<menuitem name="menu-event-dashboard-one" parent="menu-event-dashboard" title="Event Db"  action="crm.event.dashboard.one.view" /> 

 	<action-view name="crm.event.dashboard.one.view" title="Event Dashboard 1" > 
 		<view type="dashboard" name="crm.event.dashboard.one" />
	</action-view>
	 
	<menuitem name="menu-lead-dashboard" parent="crm-root-report" title="Lead" order="-10"/>
	
	<menuitem name="menu-lead-dashboard-one" parent="menu-lead-dashboard" title="Lead Db"  action="crm.lead.dashboard.one.view" />

	<action-view name="crm.lead.dashboard.one.view" title="Lead Db 1" >
		<view type="dashboard" name="crm.lead.dashboard.one" />
	</action-view>
	
	<menuitem name="menu-target-dashboard" parent="crm-root-report"	title="Objectives" />
		
	<menuitem name="menu-target-user-dashboard" parent="menu-target-dashboard"
		title="Objectives User Db"  action="crm.target.user.dashboard.view"/>	
	
	<action-view name="crm.target.user.dashboard.view" title="Objectives user Dashboard">
		<view type="dashboard" name="crm.target.user.dashboard" />
		<context name="date" expr="eval: __date__"/>
		<context name="user" expr="eval:__user__"/>
	</action-view>
	
	<menuitem name="menu-target-team-dashboard" parent="menu-target-dashboard"
		title="Objectives Team Db"  action="crm.target.team.dashboard.view"/>	

	<action-view name="crm.target.team.dashboard.view" title="Objectives team Dashboard">
		<view type="dashboard" name="crm.target.team.dashboard" />
		<context name="team" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeamId()"/>
		<context name="date" expr="eval:__config__.app.getTodayDate()"/>
	</action-view>
	
	
	<menuitem name="menu-opportunities-dashboard" parent="crm-root-report"
		title="Opportunities" order="-20" />	
	
	<menuitem name="menu-opportunities-dashboard-1" parent="menu-opportunities-dashboard"
		title="Opportunities Db 1"  action="crm.opportunities.dashboard.1.view"/>	

	<action-view name="crm.opportunities.dashboard.1.view" title="Opportunities Db 1">
		<view type="dashboard" name="crm.opportunities.dashboard.1" />
	</action-view>
	
	<menuitem name="menu-opportunities-dashboard-2" parent="menu-opportunities-dashboard"
		title="Opportunities Db 2"  action="crm.opportunities.dashboard.2.view"/>	

	<action-view name="crm.opportunities.dashboard.2.view" title="Opportunities Db 2">
		<view type="dashboard" name="crm.opportunities.dashboard.2" />
	</action-view>
	
	<menuitem name="menu-opportunities-dashboard-3" parent="menu-opportunities-dashboard"
		title="Opportunities Db 3"  action="crm.opportunities.dashboard.3.view"/>	

	<action-view name="crm.opportunities.dashboard.3.view" title="Opportunities Db 3">
		<view type="dashboard" name="crm.opportunities.dashboard.3" />
	</action-view>
		
	<menuitem name="menu-calls-dashboard" parent="crm-root-report"
		title="Calls" order="-50" />	
		
	<menuitem name="menu-calls-dashboard-1" parent="menu-calls-dashboard"
		title="Calls Db"  action="crm.calls.dashboard.view"/>	
	
	<action-view name="crm.calls.dashboard.view" title="Calls Db">
		<view type="dashboard" name="crm.calls.dashboard" />
	</action-view>	
	
	<menuitem name="menu-tickets-dashboard" parent="crm-root-report"
		title="Tickets" order="-60"  if="__config__.app.isApp('crm') &amp;&amp; __config__.app.getApp('crm').getTicketMgt()" />
		
	<menuitem name="menu-tickets-dashboard-1" parent="menu-tickets-dashboard"
		title="Tickets Db 1"  action="crm.tickets.dashboard.1.view"/>	

	<action-view name="crm.tickets.dashboard.1.view" title="Tickets Db 1">
		<view type="dashboard" name="crm.tickets.dashboard.1" />
	</action-view>
	
	<menuitem name="menu-tickets-dashboard-2" parent="menu-tickets-dashboard"
		title="Tickets Db 2"  action="crm.tickets.dashboard.2.view"/>	

	<action-view name="crm.tickets.dashboard.2.view" title="Tickets Db 2">
		<view type="dashboard" name="crm.tickets.dashboard.2" />
	</action-view>
	
	
</object-views>
