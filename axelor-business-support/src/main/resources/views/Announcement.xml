<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">
  
  <grid name="announcement-grid" title="Announcement" model="com.axelor.apps.businesssupport.db.Announcement">
    <field name="title"/>
    <field name="project"/>
    <field name="content"/>
    <field name="date"/>
  </grid>
  
  <form name="announcement-form" title="Announcement"
    model="com.axelor.apps.businesssupport.db.Announcement" width="large"
    onNew="action-project-record-announcement-onnew">
    <panel name="mainPanel">
      <field name="title" colSpan="12"/>
      <field name="project" form-view="project-form" grid-view="project-grid" onSelect="action-project-attrs-announcement-project-domain"/>
      <field name="date"/>
      <field name="content" widget="html" colSpan="12"/>
    </panel>
  </form>
  
  <action-attrs name="action-project-attrs-announcement-project-domain" >
    <attribute name="domain" for="project" expr="eval: &quot; ${__user__.id} MEMBER OF self.membersUserSet &quot;"/>
  </action-attrs>
  
  <action-record name="action-project-record-announcement-onnew" model="com.axelor.apps.businesssupport.db.Announcement">
    <field name="date" expr="eval: __date__"/>
  </action-record>
  
</object-views>