<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_4.1.xsd">

	<grid name="payroll-leave-grid" title="Payroll Leaves" model="com.axelor.apps.hr.db.PayrollLeave" canNew="false">
		<field name="fromDate"/>
		<field name="toDate"/>
		<field name="duration"/>
		<field name="leaveReason"/>
		<field name="leaveRequest"/>
	</grid>

	<form name="payroll-leave-form" title="Payroll Leave" model="com.axelor.apps.hr.db.PayrollLeave" cols="12" width="large"
        onLoad="action-payroll-leave-attrs-payroll-preparation">
		<panel name="main" readonly="true">
			<field name="fromDate" colSpan="4"/>
			<field name="toDate" colSpan="4"/>
			<field name="duration" colSpan="4"/>
			<field name="leaveReason" grid-view="leave-reason-grid" form-view="leave-reason-form" />
			<field name="leaveRequest" grid-view="leave-request-grid" form-view="leave-request-form"/>
		</panel>
        <panel name="payrollPreparationPanel" title="Payroll preparation" sidebar="true" readonly="true" showIf="payrollPreparation"
            hidden="true">
            <field name="payrollPreparation" showTitle="false" />
            <field name="payrollPreparation.exported" />
        </panel>
	</form>

    <action-attrs name="action-payroll-leave-attrs-payroll-preparation">
        <attribute name="hidden" for="payrollPreparationPanel" expr="eval: !__user__.employee?.hrManager" />
    </action-attrs>

</object-views>
