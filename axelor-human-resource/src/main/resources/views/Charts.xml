<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">

	<chart name="chart.total.hours.per.day" title="" stacked="true">
		<dataset type="jpql"><![CDATA[
		SELECT
			SUM(self.visibleDuration) AS _duration,
			self.project.fullName AS _project,
			self.date AS _day
		FROM
			TimesheetLine self
		WHERE
			self.timesheet.id= :timesheet_id
		GROUP BY
			self.date,
			self.project.fullName
		ORDER BY 
			self.date
		]]></dataset>
		<category key="_day" type="text" title="Day" />
		<series key="_duration" type="bar" title="Total" groupBy="_project" />
	</chart>

	<chart name="chart.leave.per.employee" title="Leave Per Employee" stacked="true">
		<dataset type="jpql"><![CDATA[
		SELECT
			self.employee.name AS _employee,
			self.name AS _leave_reason,
			self.quantity AS _quantity
		FROM
			LeaveLine self
		WHERE
			self.employee.manager = :__user__
		GROUP BY
			self.employee.name,
			self.name,
			self.quantity
		ORDER BY
			self.employee.name,
			self.name,
			self.quantity
		]]></dataset>
		<category key="_employee" type="text" title="Employee"/>
		<series key="_quantity" groupBy="_leave_reason" type="bar" title="Quantity"/>
	</chart>

</object-views>
