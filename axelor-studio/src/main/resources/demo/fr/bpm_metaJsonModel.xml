<?xml version="1.0" encoding="utf-8"?>
<json-models xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  
  <json-model name="BookCategory" title="Book category">
  	<fields>
		<field name="name" title="Name" required="true" type="string" sequence="1"/>
		<field name="code" title="Code" type="string" sequence="2"/>
  	</fields>
  </json-model> 
  
  <json-model name="Book" title="Book">
  	<fields>
		<field name="name" title="Name" required="true" type="string" sequence="1"/>
		<field name="code" title="Code" type="string" sequence="2"/>
		<field name="price" title="Price" type="decimal" sequence="3"/>
		<field name="launchDate" title="Launch Date" type="date" sequence="4"/>
		<field name="author" title="Author" type="many-to-one" target-model="com.axelor.apps.base.db.Partner" sequence="5"/>
		<field name="category" title="Category" type="json-many-to-one" target-json-model="BookCategory" sequence="6"/>
  	</fields>
  </json-model>
  
  <json-model name="BookOrderLine" title="Book order line">
  	<fields>
  		<field name="book" title="Book" type="json-many-to-one" target-json-model="Book"  sequence="1"/>
  		<field name="price" title="Price" type="decimal" sequence="2"/>
  		<field name="qty" title="Qty" type="integer" sequence="3"/>
		<field name="total" title="Total" type="decimal" sequence="4"/>
  	</fields>
  </json-model> 
  
  <json-model name="BookOrder" title="Book order">
  	<fields>
		<field name="reference" title="Ref" type="string" sequence="1"/>
		<field name="customer" title="Customer" type="many-to-one" target-model="com.axelor.apps.base.db.Partner" domain="isCustomer = true" sequence="2"/>
		<field name="orderDate" title="Order Date" type="date" sequence="3"/>
		<field name="total" title="Total" type="decimal" sequence="4"/>
		<field name="lines" title="Lines" type="json-one-to-many" target-json-model="BookOrderLine" sequence="5"/>
		<field name="status" title="Status" type="integer" sequence="6"/>
  	</fields>
  </json-model>
  
  <json-field name="createInvoice" type="button" model="com.axelor.apps.hr.db.Timesheet" modelField="timesheetAttrs" onClick="action-create-invoice-from-timesheet" sequence="1"/>
  
  <json-field name="createPlanning" type="button" model="com.axelor.apps.project.db.Project" modelField="projectAttrs" onClick="action-create-project-planning" sequence="1"/>
  
  <json-field name="invertToInvoice" type="button" model="com.axelor.apps.hr.db.Timesheet" modelField="timesheetAttrs" onClick="action-timesheet-line-invert-to-invoice" sequence="2"/>
  
  <json-field name="books"  title="Books" type="json-many-to-many" target-json-model="Book" model="com.axelor.meta.db.MetaJsonRecord" modelField="attrs" jsonModel="BookCategory" sequence="3"/>
  
  <json-field name="createBook" title="Create book order" type="button" onClick="action-create-book-order-from-category" model="com.axelor.meta.db.MetaJsonRecord" modelField="attrs" jsonModel="BookCategory" sequence="4"/>
  
</json-models>
